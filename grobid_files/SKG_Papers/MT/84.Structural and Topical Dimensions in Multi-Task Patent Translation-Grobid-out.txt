title
Structural and Topical Dimensions in Multi-Task Patent Translation

abstract
Patent translation is a complex problem due to the highly specialized technical vocabulary and the peculiar textual structure of patent documents. In this paper we analyze patents along the orthogonal dimensions of topic and textual structure. We view different patent classes and different patent text sections such as title, abstract, and claims, as separate translation tasks, and investigate the influence of such tasks on machine translation performance. We study multitask learning techniques that exploit commonalities between tasks by mixtures of translation models or by multi-task metaparameter tuning. We find small but significant gains over task-specific training by techniques that model commonalities through shared parameters. A by-product of our work is a parallel patent corpus of 23 million German-English sentence pairs.

Introduction Patents are an important tool for the protection of intellectual property and also play a significant role in business strategies in modern economies. Patent translation is an enabling technique for patent prior art search which aims to detect a patent's novelty and thus needs to be cross-lingual for a multitude of languages. Patent translation is complicated by a highly specialized vocabulary, consisting of technical terms specific to the field of invention the patent relates to. Patents are written in a sophisticated legal jargon ("patentese") that is not found in everyday language and exhibits a complex textual structure. Also, patents are often intentionally ambiguous or vague in order to maximize the coverage of the claims. In this paper, we analyze patents with respect to the orthogonal dimensions of topic -the technical field covered by the patent -and structure -a patent's text sections -, with respect to their influence on machine translation performance. The topical dimension of patents is characterized by the International Patent Classification (IPC) 1 which categorizes patents hierarchically into 8 sections, 120 classes, 600 subclasses, down to 70,000 subgroups at the leaf level. Orthogonal to the patent classification, patent documents can be sub-categorized along the dimension of textual structure. Article 78.1 of the European Patent Convention (EPC) lists all sections required in a patent document 2 : "A European patent application shall contain: (a) a request for the grant of a European patent; (b) a description of the invention; (c) one or more claims; (d) any drawings referred to in the description or the claims; (e) an abstract, and satisfy the requirements laid down in the Implementing Regulations." The request for grant contains the patent title; thus a patent document comprises the textual elements of title, description, claim, and abstract. We investigate whether it is worthwhile to treat different values along the structural and topical dimensions as different tasks that are not completely independent of each other but share some commonalities, yet differ enough to counter a simple pooling of data. For example, we consider different tasks such as patents from different IPC classes, or along an orthogonal dimension, patent documents of all IPC classes but consisting only of titles or only of claims. We ask whether such tasks should be addressed as separate translation tasks, or whether translation performance can be improved by learning several tasks simultaneously through shared models that are more sophisticated than simple data pooling. Our goal is to learn a patent translation system that performs well across several different tasks, thus benefits from shared information, but is yet able to address the specifics of each task. One contribution of this paper is a thorough analysis of the differences and similarities of multilingual patent data along the dimensions of textual structure and topic. The second contribution is the experimental investigation of the influence of various such tasks on patent translation performance. Starting from baseline models that are trained on individual tasks or on data pooled from all tasks, we apply mixtures of translation models and multi-task minimum error rate training to multiple patent translation tasks. A by-product of our research is a parallel patent corpus of over 23 million sentence pairs. 

 Related work Multi-task learning has mostly been discussed under the name of multi-domain adaptation in the area of statistical machine translation (SMT). If we consider domains as tasks, domain adaptation is a special two-task case of multi-task learning. Most previous work has concentrated on adapting unsupervised generative modules such as translation models or language models to new tasks. For example, transductive approaches have used automatic translations of monolingual corpora for self-training modules of the generative SMT pipeline  (Ueffing et al., 2007; Schwenk, 2008; Bertoldi and Federico, 2009) . Other approaches have extracted parallel data from similar or comparable corpora  (Zhao et al., 2004; Snover et al., 2008) . Several approaches have been presented that train separate translation and language models on task-specific subsets of the data and combine them in different mixture models  (Foster and Kuhn, 2007; Koehn and Schroeder, 2007; Foster et al., 2010) . The latter kind of approach is applied in our work to multiple patent tasks. Multi-task learning efforts in patent translation have so far been restricted to experimental combinations of translation and language models from different sets of IPC sections. For example,  Utiyama and Isahara (2007)  and  Tinsley et al. (2010)  investigate translation and language models trained on different sets of patent sections, with larger pools of parallel data improving results. Ceaus ?u et al. (  2011 ) find that language models always and translation model mostly benefit from larger pools of data from different sections. Models trained on pooled patent data are used as baselines in our approach. The machine learning community has developed several different formalizations of the central idea of trading off optimality of parameter vectors for each task-specific model and closeness of these model parameters to the average parameter vector across models. For example, starting from a separate SVM for each task,  Evgeniou and Pontil (2004)  present a regularization method that trades off optimization of the task-specific parameter vectors and the distance of each SVM to the average SVM. Equivalent formalizations replace parameter regularization by Bayesian prior distributions on the parameters  (Finkel and Manning, 2009)  or by augmentation of the feature space with domain independent features  (Daum?, 2007) . Besides SVMs, several learning algorithms have been extended to the multi-task scenario in a parameter regularization setting, e.g., perceptron-type algorithms  (Dredze et al., 2010)  or boosting  (Chapelle et al., 2011) . Further variants include different formalizations of norms for parameter regularization, e.g., 1,2 regularization  (Obozinski et al., 2010)  or 1,? regularization  (Quattoni et al., 2009) , where only the features that are most important across all tasks are kept in the model. In our experiments, we apply parameter regularization for multi-task learning to minimum error rate training for patent translation. 3 Extraction of a parallel patent corpus from comparable data The lack of directly translated descriptions poses a serious limitation for patent translation, since this section constitutes the largest part of the document. It is possible to obtain comparable descriptions from related patents that have been filed in different countries and are connected through the patent family id. We extracted 172,472 patents that were both filed with the USPTO and the EPO and contain an English and a German description, respectively. For sentence alignment, we used the Gargantua 5 tool  (Braune and Fraser, 2010 ) that filters a sentence-length based alignment with IBM Model-1 lexical word translation probabilities, estimated on parallel data obtained from the first-pass alignment. This yields the parallel corpus listed in table 2 with high input-output ratios for claims, and much lower ratios for abstracts and descriptions, showing that claims exhibit a natural parallelism due to their structure, while abstracts and descriptions are considerably less parallel. Removing duplicates and adding parallel titles results in a corpus of over 23 million parallel sentence pairs. output de ratio en ratio  Differences between the text sections become visible in an analysis of token to type ratios. Table 3 gives the average number of tokens compared to the average type frequencies for a window of 100,000 tokens from every subsection. It shows that titles contain considerably fewer tokens than other sections, however, the disadvantage is partially made up by a relatively large amount of types, indicated by a lower average type frequency. tokens types de en de en title 6.5 8.0 2.9 4.8 abstract 37.4 43.2 4.3 9.0 claims 53.2 61.3 5.5 9.5 description 27.5 35.5 4.0 7.0 We reserved patent data published between 1979 and 2007 for training and documents published in 2008 for tuning and testing in SMT. For the dimension of text sections, we sampled 500,000 sentences -distributed across all IPC sections -for training and 2,000 sentences for each text section for development and testing. Because of a relatively high number of identical sentences in test and training set for titles, we removed the overlap for this section. Table  4  shows the distribution of IPC sections on claims, with the smallest class accounting for around 300,000 parallel sentences. In order to obtain similar amounts of training data for each task along the topical dimension, we sampled 300,000 sentences from each IPC class for training, and 2,000 sentences for each IPC class for development and testing. A   

 Machine translation experiments 4.1 Individual task baselines For our experiments we used the phrase-based, open-source SMT toolkit Moses 6 . For language modeling, we computed 5-gram models using IRSTLM 7  (Federico et al., 2008)  and queried the model with KenLM  (Heafield, 2011) . BLEU  (Papineni et al., 2001)    Table  5  shows a first comparison of results of Moses models trained on 500,000 parallel sentences from patent text sections balanced over IPC classes, against Moses trained on 1.7 Million sentences of parliament proceedings from Europarl 8  (Koehn, 2005) . The best result on each section is indicated in bold face. The Europarl model performs very poorly on all three sections in compar-ison to the task-specific MAREC model, although the former has been learned on more than three times the amount of data. An analysis of the output of both system shows that the Europarl model suffers from two problems: Firstly, there is an obvious out of vocabulary  (OOV)   Table  7  shows the results of the evaluation across text sections; we measured the performance of separately trained and tuned individual models on every section. The results allow some conclusions about the textual characteristics of the sections and indicate similarities. Naturally, every task is best translated with a model trained on the respective section, as the BLEU scores on the diagonal are the highest in every column. Accordingly, we are interested in the runner-up on each section, which is indicated in bold font. The cross-section evaluation on the IPC classes (table 8) shows similar patterns. Each section is best translated with a model trained on data from the same section. Note that best section scores vary considerably, ranging from 0.5719 on C to 0.4714 on H, indicating that higher-scoring classes, such as C and A, are more homogeneous and therefore easier to translate. C, the Chemistry section, presumably benefits from the fact that the data contain chemical formulae, which are language-independent and do not have to be translated. Again, for determining the relationship between the classes, we examine the best runner-up on each section, considering the BLEU score, although asymmetrical, as a kind of measure of similarity between classes. We can establish symmetric relationships between sections A and C, B and F as well as G and H, which means that the models are mutual runner-up on the other's test section. The similarities of translation tasks established in the previous section can be confirmed by information-theoretic similarity measures that perform a pairwise comparison of the vocabulary probability distribution of each task-specific corpus. This distribution is calculated on the basis of the 500 most frequent words in the union of two corpora, normalized by vocabulary size. As metric we use the A-distance measure of  Kifer et al. (2004) . If A is the set of events on which the word distributions of two corpora are defined, then the A-distance is the supremum of the difference of probabilities assigned to the same event. Low distance means higher similarity. Table  9  shows the A-distance of corpora specific to IPC classes. The most similar section or sections -apart from the section itself on the diagonal -is indicated in bold face. The pairwise similarity of A and C, B and F, G and H obtained by BLEU score is confirmed. Furthermore, a close similarity between E and F is indicated. G and H (electricity and physics, respectively) are very similar to each other but not close to any other section apart from B. 

 Task pooling and mixture One straightforward technique to exploit commonalities between tasks is pooling data from separate tasks into a single training set. Instead of a trivial enlargement of training data by pooling, we train the pooled models on the same amount of sentences as the individual models. For instance, the pooled model for the pairing of IPC section B and C is trained on a data set composed of 150,000 sentences from each IPC section. The pooled model for pairing data from abstracts and claims is trained on data composed of 250,000 sentences from each text section. Another approach to exploit commonalities between tasks is to train separate language and translation models 9 on the sentences from each task and combine the models in the global log-linear model of the SMT framework, following Foster and Kuhn (  2007 ) and  Koehn and Schroeder (2007) . Model combination is accomplished by adding additional language model and translation model features to the log-linear model and tuning the additional meta-parameters by standard minimum error rate training . We try out mixture and pooling for all pairwise combinations of the three structural sections, for which we have high-quality data, i.e. abstract, claims and title. Due to the large number of possible combinations of IPC sections, we limit the experiments to pairs of similar sections, based on the A-distance measure. Table  10  lists the results for two combinations of data from different sections: a log-linear mixture of separately trained models and simple pooling, i.e. concatenation, of the training data. Overall, the mixture models perform slightly better than the pooled models on the text sections, although the difference is significant only in two cases. This is indicated by highlighting best results in bold face (with more than one result highlighted if the difference is not significant).  10  We investigate the same mixture and pooling techniques on the IPC sections we considered pairwise similar (see table  11 ). Somehow contradicting the former results, the mixture models perform significantly worse than the pooled model on three sections. This might be the result of inadequate tuning, since most of the time the MERT algorithm did not converge after the maximum number of iterations, due to the larger number of features when using several models. A comparison of the results for pooling and mixture with the respective results for individual models (tables 7 and 8) shows that replacing data from the same task by data from related tasks decreases translation performance in almost all cases. The exception is the title model that benefits from pooling and mixing with both abstracts and claims due to their richer data structure. 

 Multi-task minimum error rate training In contrast to task pooling and task mixtures, the specific setting addressed by multi-task minimum error rate training is one in which the generative  SMT pipeline is not adaptable. Such situations arise if there are not enough data to train translation models or language models on the new tasks. However, we assume that there are enough parallel data available to perform meta-parameter tuning by minimum error rate training (MERT)  (Och, 2003;  for each task. A generic algorithm for multi-task learning can be motivated as follows: Multi-task learning aims to take advantage of commonalities shared among tasks by learning several independent but related tasks together. Information is shared between tasks through a joint representation and in- troduces an inductive bias.  Evgeniou and Pontil (2004)  propose a regularization method that balances task-specific parameter vectors and their distance to the average. The learning objective is to minimize task-specific loss functions l d across all tasks d with weight vectors w d , while keeping each parameter vector close to the average 1 D D d=1 w d = w avg . This is enforced by minimizing the norm (here the 1 -norm) of the difference of each task-specific weight vector to the avarage weight vector. min w 1 ,...,w D D d=1 l d (w d ) + ? D d=1 ||w d ? w avg || 1 (1) The MMERT algorithm is given in figure  1 . The algorithm starts with initial weights w (0) . At each iteration step, the average of the parameter vectors from the previous iteration is computed. For each task d ? D, one iteration of standard MERT is called, continuing from weight vector w MMERT(w (0) , D, {l d } D d=1 ): for t = 1, . . . , T do w The weight updates and the clipping strategy can be motivated in a framework of gradient descent optimization under 1 -regularization  (Tsuruoka et al., 2009) . Assuming MERT as algorithmic minimizer 11 of the loss function l d in equation 1, the weight update towards the average follows from the subgradient of the 1 regularizer. Since w (t) avg is taken as average over weights w (t?1) d from the step before, the term w (t) avg is constant with respect to w (t) d , leading to the following subgradient (where sgn(x) = 1 if x > 0, sgn(x) = ?1 if x < 0, and sgn(x) = 0 if x = 0): (t) avg = 1 D D d=1 w (t?1) d for d = 1, . . . , D parallel do w (t) d = MERT(w (t?1) d , l d ) for k = 1, . . . , K do if w[k] (t) d ? w (t) avg [k] > 0 then w (t) d [k] = max(w (t) avg [k], w (t) d [k] ? ?) else if w (t) d [k] ? w (t) avg [k] < 0 then w (t) d [k] = min(w (t) avg [k], w (t) d [k] + ?) end if end for end for end for return w (T ) 1 , . . . , w (T ) D , w (T ) avg ? ?w (t) r [k] ? D d=1 w (t) d ? 1 D D s=1 w (t?1) s 1 = ? sgn w (t) r [k] ? 1 D D s=1 w (t?1) s [k] . Gradient descent minimization tells us to move in the opposite direction of the subgradient, thus motivating the addition or subtraction of the regularization penalty. Clipping is motivated by the desire to avoid oscillating parameter weights and in order to to enforce parameter sharing. Experimental results for multi-task MERT (MMERT) are reported for both dimensions of patent tasks. For the IPC sections we trained a pooled model on 1,000,000 sentences sampled from abstracts and claims from all sections. We did not balance the sections but kept their original distribution, reflecting a real-life task where the distribution of sections is unknown. We then extend this experiment to the structural dimension. Since we do not have an intuitive notion of a natural distribution for the text sections, we train a balanced pooled model on a corpus composed of 170,000 sentences each from abstracts, claims and titles, i.e. 510,000 sentences in total. For both dimensions, for each task, we sampled 2,000 parallel sentences for development, developmenttesting, and testing from patents that were published in different years than the training data. We compare the multi-task experiments with two baselines. The first baseline is individual task learning, corresponding to standard separate MERT tuning on each section (individual). This results in three separately learned weight vectors for each task, where no information has been shared between the tasks. The second baseline simulates the setting where the sections are not differentiated at all. We tune the model on a pooled development set of 2,000 sentences that combines the same amount of data from all sections (pooled). This yields a single joint weight vector for all tasks optimized to perform well across all sections. Furthermore, we compare multi-task MERT tuning with two parameter averaging methods. The first method computes the arithmetic mean of the weight vectors returned by the individual baseline for each weight component, yielding a joint average vector for all tasks (average). The second method takes the last average vector computed during multi-task MERT tuning (MMERT-average).  12  Tables  12 and 13  give the results for multi-task learning on text and IPC sections. The latter results have been presented earlier in  Simianer et al. (2011) . The former table extends the technique of multi-task MERT to the structural dimension of patent SMT tasks. In all experiments, the parameter ? was adjusted to 0.001 after evaluating different settings on a development set. The best result on each section is indicated in bold face; * indicates significance with respect to the individual baseline, + the same for the pooled baseline. We observe statistically significant improvements of 0.5 to 1% BLEU over the individual baseline for claims and titles; for abstracts, the multi-task variant yields the same result as the baseline, while the averaging methods perform worse. Multi-task MERT yields the best result for claims; on titles, the simple average and the last MMERT average dominate. Pooled tuning always performs significantly worse than any other method, confirming that it is beneficial to differentiate between the text section sections. Similarly for IPC sections, small but statistically significant improvements over the individual and pooled baselines are achieved by multi-task tuning and averaging over IPC sections, excepting C and D. However, an advantage of multi-task tuning over averaging is hard to establish. Note that the averaging techniques implicitly benefit from a larger tuning set. In order to ascertain that the improvements by averaging are not  

 Conclusion The most straightforward approach to improve machine translation performance on patents is to enlarge the training set to include all available data. This question has been investigated by  Tins-ley et al. (2010)  and  Utiyama and Isahara (2007) . A caveat in this situation is that data need to be from the general patent domain, as shown by the inferior performance of a large Europarl-trained model compared to a small patent-trained model. The goal of this paper is to analyze patent data along the topical dimension of IPC classes and along the structural dimension of textual sections. Instead of trying to beat a pooling baseline that simply increases the data size, our research goal is to investigate whether different subtasks along these dimensions share commonalities that can fruitfully be exploited by multi-task learning in machine translation. We thus aim to investigate the benefits of multi-task learning in realistic situations where a simple enlargement of training data is not possible. Starting from baseline models that are trained on individual tasks or on data pooled from all tasks, we apply mixtures of translation models and multi-task MERT tuning to multiple patent translation tasks. We find small, but statistically significant improvements for multi-task MERT tuning and parameter averaging techniques. Improvements are more pronounced for multi-task learning on textual domains than on IPC domains. This might indicate that the IPC sections are less well delimitated than the structural domains. Furthermore, this is owing to the limited expressiveness of a standard linear model including 14-20 features in tuning. The available features are very coarse and more likely to capture structural differences, such as sentence length, than the lexical differences that differentiate the semantic domains. We expect to see larger gains due to multitask learning for discriminatively trained SMT models that involve very large numbers of features, especially when multi-task learning is done in a framework that combines parameter regularization with feature selection  (Obozinski et al., 2010) . In future work, we will explore a combination of large-scale discriminative training  (Liang et al., 2006)  with multi-task learning for SMT. loss function l d on the data from task d. The individually tuned weight vectors returned by MERT are then moved towards the previously calculated average by adding or subtracting a penalty term ? for each weight component w (t) d [k]. If a weight moves beyond the average, it is clipped to the average value. The process is iterated until a stopping criterion is met, e.g. a threshold on the maximum change in the average weight vector. The parameter ? controls the influence of the regularization. A larger ? pulls the weights closer to the average, a smaller ? leaves more freedom to the individual tasks. 
