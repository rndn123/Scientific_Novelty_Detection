title
Combining Word-Level and Character-Level Models for Machine Translation Between Closely-Related Languages

abstract
We propose several techniques for improving statistical machine translation between closely-related languages with scarce resources. We use character-level translation trained on n-gram-character-aligned bitexts and tuned using word-level BLEU, which we further augment with character-based transliteration at the word level and combine with a word-level translation model. The evaluation on Macedonian-Bulgarian movie subtitles shows an improvement of 2.84 BLEU points over a phrase-based word-level baseline.

Introduction Statistical machine translation (SMT) systems, require parallel corpora of sentences and their translations, called bitexts, which are often not sufficiently large. However, for many closely-related languages, SMT can be carried out even with small bitexts by exploring relations below the word level. Closely-related languages such as Macedonian and Bulgarian exhibit a large overlap in their vocabulary and strong syntactic and lexical similarities. Spelling conventions in such related languages can still be different, and they may diverge more substantially at the level of morphology. However, the differences often constitute consistent regularities that can be generalized when translating. The language similarities and the regularities in morphological variation and spelling motivate the use of character-level translation models, which were applied to translation  (Vilar et al., 2007; Tiedemann, 2009a ) and transliteration  (Matthews, 2007) . Certainly, translation cannot be adequately modeled as simple transliteration, even for closelyrelated languages. However, the strength of phrasebased SMT  (Koehn et al., 2003)  is that it can support rather large sequences (phrases) that capture translations of entire chunks. This makes it possible to include mappings that go far beyond the edit-distancebased string operations usually modeled in transliteration. Table  1  shows how character-level phrase tables can cover mappings spanning over multi-word units. Thus, character-level phrase-based SMT models combine the generality of character-by-character transliteration and lexical mappings of larger units that could possibly refer to morphemes, words or phrases, as well as to various combinations thereof. 

 original: MK: navistina ? BG: naistina ? characters: MK: n a v i s t i n a ? BG: n a i s t i n a ? character bigrams: MK: na av vi is st ti in na a ? ? BG: na ai is st ti in na a ? ? Statistical word alignment models heavily rely on context-independent lexical translation parameters and, therefore, are unable to properly distinguish character mapping differences in various contexts. The alignment models used in the transliteration literature have the same problem as they are usually based on edit distance operations and finite-state automata without contextual history  (Jiampojamarn et al., 2007; Damper et al., 2005; Ristad and Yianilos, 1998) . We, thus, transformed the input to sequences of character n-grams as suggested by  Tiedemann (2012) ; examples are shown in Figure  1 . This artificially increases the vocabulary as shown in Table 2, making standard alignment models and their lexical translation parameters more expressive.  It turns out that bigrams constitute a good compromise between generality and contextual specificity, which yields useful character alignments with good performance in terms of phrase-based translation. In our experiments, we used GIZA++  (Och and Ney, 2003)  with standard settings and the growdiagonal-final-and heuristics to symmetrize the final IBM-model-4-based Viterbi alignments  (Brown et al., 1993) . The phrases were extracted and scored using the Moses training tools  (Koehn et al., 2007) .  1  We tuned the parameters of the log-linear SMT model using minimum error rate training  (Och, 2003) , optimizing BLEU  (Papineni et al., 2002) . Since BLEU over matching character sequences does not make much sense, especially if the k-gram size is limited to small values of k (usually, 4 or less), we post-processed n-best lists in each tuning step to calculate the usual word-based BLEU score. 

 Transliteration We also built a character-level SMT system for word-level transliteration, which we trained on a list of automatically extracted pairs of likely cognates. 

 Cognate Extraction Classic NLP approaches to cognate extraction look for words with similar spelling that co-occur in parallel sentences  (Kondrak et al., 2003) . Since our Macedonian-Bulgarian bitext (MK-BG) was small, we further used a MK-EN and an EN-BG bitext. First, we induced IBM-model-4 word alignments for MK-EN and EN-BG, from which we extracted four conditional lexical translation probabilities: Pr(m|e) and Pr(e|m) for MK-EN, and Pr(b|e) and Pr(e|b) for EN-BG, where m, e, and b stand for a Macedonian, an English, and a Bulgarian word. Then, following  (Callison-Burch et al., 2006; Wu and Wang, 2007; Utiyama and Isahara, 2007) , we induced conditional lexical translation probabilities as Pr(m|b) = e Pr(m|e) Pr(e|b), where Pr(m|e) and Pr(e|b) are estimated using maximum likelihood from MK-EN and EN-BG word alignments. Then, we induced translation probability estimations for the reverse direction Pr(b|m) and we calculated the quantity Piv(m, b) = Pr(m|b) Pr(b|m). We calculated a similar quantity Dir(m, b), where the probabilities Pr(m|b) and Pr(b|m) are estimated using maximum likelihood from the MK-BG bitext directly. Finally, we calculated the similarity score S(m, b) = Piv(m, b)+Dir(m, b)+2?LCSR(m, b), where LCSR is the longest common subsequence of two strings, divided by the length of the longer one. The score S(m, b) is high for words that are likely to be cognates, i.e., that (i) have high probability of being mutual translations, which is expressed by the first two terms in the summation, and (ii) have similar spelling, as expressed by the last term. Here we give equal weight to Dir(m, b) and Piv(m, b); we also give equal weights to the translational similarity (the sum of the first two terms) and to the spelling similarity (twice LCSR). We excluded all words of length less than three, as well as all Macedonian-Bulgarian word pairs (m, b) for which Piv(m, b) + Dir(m, b) < 0.01, and those for which LCSR(m, b) was below 0.58, a value found by  Kondrak et al. (2003)  to work well for a number of European language pairs. Finally, using S(m, b), we induced a weighted bipartite graph, and we performed a greedy approximation to the maximum weighted bipartite matching in that graph using competitive linking  (Melamed, 2000) , to produce the final list of cognate pairs. Note that the above-described cognate extraction algorithm has three important components: (1) orthographic, based on LCSR, (2) semantic, based on word alignments and pivoting over English, and (3) competitive linking. The orthographic component is essential when looking for cognates since they must have similar spelling by definition, while the semantic component prevents the extraction of friends like vreden, which means 'valuable' in Macedonian but 'harmful' in Bulgarian. Finally, competitive linking helps prevent issues related to word inflection that cannot be handled using the semantic component alone. 

 Transliteration Training For each pair in the list of cognate pairs, we added spaces between any two adjacent letters for both words, and we further appended special start and end characters. We split the resulting list into training, development and testing parts and we trained and tuned a character-level Macedonian-Bulgarian phrase-based monotone SMT system similar to that in  (Finch and Sumita, 2008; Tiedemann and Nabende, 2009; Nakov and Ng, 2009; Nakov and Ng, 2012) . The system used a character-level Bulgarian language model trained on words. We set the maximum phrase length and the language model order to 10, and we tuned the system using MERT. 

 Transliteration Lattice Generation Given a Macedonian sentence, we generated a lattice where each input Macedonian word of length three or longer was augmented with Bulgarian alternatives: n-best transliterations generated by the above character-level Macedonian-Bulgarian SMT system (after the characters were concatenated to form a word and the special symbols were removed). In the lattice, we assigned the original Macedonian word the weight of 1; for the alternatives, we assigned scores between 0 and 1 that were the sum of the translation model probabilities of generating each alternative (the sum was needed since some options appeared multiple times in the n-best list). 

 Experiments and Evaluation For our experiments, we used translated movie subtitles from the OPUS corpus  (Tiedemann, 2009b) . For Macedonian-Bulgarian there were only about 102,000 aligned sentences containing approximately 1.3 million tokens altogether. There was substantially more monolingual data available for Bulgarian: about 16 million sentences containing ca. 136 million tokens. However, this data was noisy. Thus, we realigned the corpus using hunalign and we removed some Bulgarian files that were misclassified as Macedonian and vice versa, using a BLEU-filter. Furthermore, we also removed sentence pairs containing language-specific characters on the wrong side. From the remaining data we selected 10,000 sentence pairs (roughly 128,000 words) for development and another 10,000 (ca. 125,000 words) for testing; we used the rest for training. The evaluation results are summarized in Table  3 . Transliteration. The top rows of Table  3  show the results for Macedonian-Bulgarian transliteration. First, we can see that the BLEU score for the original Macedonian testset evaluated against the Bulgarian reference is 10.74, which is quite high and reflects the similarity between the two languages. The next line (t1) shows that many differences between Macedonian and Bulgarian stem from mere differences in orthography: we mapped the six letters in the Macedonian alphabet that do not exist in the Bulgarian alphabet to corresponding Bulgarian letters and letter sequences, gaining over 1.3 BLEU points. The following line (t2) shows the results using the sophisticated transliteration described in Section 3, which takes two kinds of context into account: (1) wordinternal letter context, and (2) sentence-level word context. We generated lattice for each Macedonian test sentence, which included the original Macedonian words and the 1-best 2 Bulgarian transliteration option from the character-level transliteration model. We then decoded the lattice using a Bulgarian language model; this increased BLEU to 22.74. Word-level translation. Naturally, lattice-based transliteration cannot really compete against standard word-level translation (w1), which is better by 8 BLEU points. Still, as line (w2) shows, using the 1-best transliteration lattice as an input to (w1) yields 3 consistent improvement over (w1) for four evaluation metrics: BLEU  (Papineni et al., 2002) , NIST v. 13, TER  (Snover et al., 2006) v. 0.7.25, and METEOR (Lavie and Denkowski, 2009)  v. 1.3. The baseline system is also significantly better than the on-line version of Apertium (http://www.apertium.org/), a shallow transfer-rulebased MT system that is optimized for closelyrelated languages (accessed on 2012/05/02). Here, Apertium suffers badly from a large number of unknown words in our testset (ca. 15%). Character-level translation. Moving down to the next group of experiments in Table  3 , we can see that standard character-level SMT (c1), i.e., simply treating characters as separate words, performs significantly better than word-level SMT. Using bigram-based character alignments yields further improvement of +0.43 BLEU. System combination. Since word-level and character-level models have different strengths and weaknesses, we further tried to combine them. We used MEMT, a state-of-the-art Multi-Engine Machine Translation system  (Heafield and Lavie, 2010) , to combine the outputs of (c3) with the output of (w1) and of (w2). Both combinations improved over the individual systems, but (w1)+(c2) performed better, by +0.6 BLEU points over (c2). Combining word-level and phrase-level SMT. Finally, we also combined (w1) with (c3) in a more direct way: by merging their phrase tables. First, we split the phrases in the word-level phrase tables of (w1) to characters as in character-level models. Then, we generated four versions of each phrase pair: with/without " " at the beginning/end of the phrase. Finally, we merged these phrase pairs with those in the phrase table of (c3), adding two extra features indicating each phrase pair's origin: the first/second feature is 1 if the pair came from the first/second table, and 0.5 otherwise. This combination outperformed MEMT, probably because it expands the search space of the SMT system more directly. We further tried scoring with two language models in the process of translation, character-based and word-based, but we did not get consistent improvements. Finally, we experimented with a 1-best character-level lattice input that encodes the same options and weights as for (w2). This yielded our best overall BLEU score of 33.94, which is +2.84 BLEU points of absolute improvement over the (w1) baseline, and +1.23 BLEU points over (c2). 4 

 Conclusion and Future Work We have explored several combinations of characterand word-level translation models for translating between closely-related languages with scarce resources. In future work, we want to use such a model for pivot-based translations from the resource-poor language (Macedonian) to other languages (such as English) via the related language (Bulgarian). Figure 1 : 1 Figure 1: Preparing the training corpus for alignment. 
